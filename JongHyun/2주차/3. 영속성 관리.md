# 영속성 컨텍스트란?

* JPA를 이해하는데 가장 중요한 용어
* “엔티티를 영구 저장하는 환경”이라는 뜻
* `EntityManager.persist(entity);`

> 전 챕터에서 `EntityManager.persist(Member);` 를 통해 맴버를 저장했었는데 이는 데이터베이스에 저장한다는 의미가 아니고  
> 영속성 컨텍스트 라는 곳에 저장하겠다는 의미이다.

>엔티티 매니저의 역할은 눈에 보이지 않는 영속성 컨텍스트 라는 공간에 접근하여 여러 작업을 해주는 녀석이라고 생각하면 된다.

<img src="src/data1.png">

엔티티 매니저를 생성하면 눈에 보이지 않는 영속성 컨텍스트가 하나 생긴다.
즉, 엔티티 매니저 하나당 영속성 컨텍스트를 하나씩 가지고 있어 1:1 매칭이 된다.

# 엔티티의 생명주기

<img src="src/data2.png">

<img src="src/data3.png">

## 비영속

```java
class Sample {
 
    //객체를 생성한 상태(비영속)
    Member member = new Member();
    member.setId("member1");
    member.setUsername("회원1");
    
}
```

객체를 생성만 한 상태에는 `영속성 컨텍스트`에서 관리해주지 않기 때문에 `비영속` 상태라고 한다.