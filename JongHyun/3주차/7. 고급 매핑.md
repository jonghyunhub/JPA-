# 상속관계 매핑

<img src="src/7.%20고급%20매핑/data1.png">

* 슈퍼타입 서브타입 논리 모델을 실제 물리 모델로 구현하는 방법
  * 각각 테이블로 변환-> 조인 전략
  * 통합 테이블로 변환 -> 단일 테이블 전략
  * 서브타입 테이블로 변환 -> 구현 클래스마다 테이블 전략

## 주요 어노테이션

* `@Inheritance(strategy=InheritanceType.XXX)` 
  * `JOINED`: 조인 전략
* `SINGLE_TABLE`: 단일 테이블 전략
  * `TABLE_PER_CLASS`: 구현 클래스마다 테이블 전략 `@DiscriminatorColumn(name=“DTYPE”)`
* `@DiscriminatorValue(“XXX”)`

<img src="src/7.%20고급%20매핑/daata2.png">

```java
@Entity
@Inheritance(strategy = InheritanceType.JOINED)
@DiscriminatorColumn
public class Item {

    @Id
    @GeneratedValue
    @Column(name = "ITEM_ID")
    private Long id;

    private String name;
    private int price;
}
```

```java
@Entity
public class Album extends Item {
    private String artist;
}
```

```java
@Entity
public class Movie extends Item {
    private String director;
    private String actor;
}
```

> 위와 같이 코드를 작성하면 위 그림처럼 테이블이 생성된다.
> 특히, `Item` 테이블의 `@Inheritance(strategy = InheritanceType.JOINED)`은 전략을 설정해주는 에너테이션이고
> `@DiscriminatorColumn` 은 인서트 할때 어떤 항목인지 알려주는 컬럼을 추가하는 에너테이션이다.
> 기본값으로는 `DTYPE` 컬럼을 추가해준다.